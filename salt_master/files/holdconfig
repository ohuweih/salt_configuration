user: root
enable_ssh_minions: True
userdata_template: jinja
ssh_user: ec2-user
file_recv: True
fileserver_followsymlinks: True
state_top: top.sls
fileserver_backend:
  - git

gitfs_remotes:
  - https://github.com/ohuweih/salt_configuration.git:
    - base: main
    - mountpoint: salt://
    - root: /

# Pillar backend configuration
pillar_opts: True

ext_pillar:
  - git:
    - master https://github.com/ohuweih/salt_pillar.git:
      - env: base
      - root: /

# Optional: Additional configuration for GitFS
gitfs_provider: pygit2  # pygit2 is the recommended provider
git_pillar_provider: pygit2  # Ensure the same provider is used for pillars
